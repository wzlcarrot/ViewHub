import{a as F,u as P}from"./vue-router-ffDWPyKt.js";import{_ as A}from"./index-V73uJnXy.js";import{f as T,r as S,al as h,c as u,o as l,Q as H,I as x,P as k,a6 as I,H as d,K as b,B as $}from"./@vue-_Q8M3GyZ.js";const j={class:"search-panel"},D={__name:"VideoSerchSelect",emits:["loadData"],setup(t,{emit:m}){const{proxy:g}=T();F();const n=P(),e=S({videoId:n.query.videoId}),f=S([]);(async()=>{let i=await g.Request({url:g.Api.ucLoadAllVideo});i&&(f.value=i.data)})();const p=m,_=i=>{p("loadData",i)};return(i,w)=>{const v=h("el-option"),C=h("el-select");return l(),u("div",j,[H(C,{clearable:"",placeholder:"选择视频搜索",modelValue:e.value.videoId,"onUpdate:modelValue":w[0]||(w[0]=r=>e.value.videoId=r),onChange:_},{default:x(()=>[(l(!0),u(k,null,I(f.value,r=>(l(),d(v,{value:r.videoId,label:r.videoName},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])])}}},K=A(D,[["__scopeId","data-v-aa881fc7"]]),L={key:0,class:"pagination"},q=193,Q={__name:"Table",props:{dataSource:Object,showPagination:{type:Boolean,default:!0},options:{type:Object,default:{}},extHeight:{default:70},columns:Array,fetch:Function,initFetch:{type:Boolean,default:!0},selected:Function},emits:["rowSelected","rowClick","update:pageNo","update:pageSize"],setup(t,{expose:m,emit:g}){const n=g,e=t,f=S(e.options.tableHeight?e.options.tableHeight:window.innerHeight-q-e.extHeight);(()=>{e.initFetch&&e.fetch&&e.fetch()})();const p=S();m({setCurrentRow:(a,c)=>{let s=e.dataSource.list.find(y=>y[a]===c);p.value.setCurrentRow(s)},clearSelection:()=>{p.value.clearSelection()}});const w=a=>{n("rowClick",a)},v=a=>{n("rowSelected",a)},C=a=>{n("update:pageSize",a),n("update:pageNo",1),e.fetch&&e.fetch()},r=a=>{n("update:pageNo",a),e.fetch&&e.fetch()},R=(a,c)=>{if(e.selected)return e.selected(a,c)};return(a,c)=>{const s=h("el-table-column"),y=h("el-table"),B=h("el-pagination");return l(),u("div",null,[H(y,{ref_key:"dataTable",ref:p,data:t.dataSource.list||[],height:f.value,stripe:t.options.stripe,border:t.options.border,"header-row-class-name":"table-header-row","highlight-current-row":"",onRowClick:w,onSelectionChange:v},{default:x(()=>[t.options.selectType&&t.options.selectType=="checkbox"?(l(),d(s,{key:0,type:"selection",selectable:R,width:"50",align:"center"})):b("",!0),t.options.showIndex?(l(),d(s,{key:1,label:"序号",type:"index",width:"60",align:"center"})):b("",!0),(l(!0),u(k,null,I(t.columns,(o,V)=>(l(),u(k,null,[o.scopedSlots?(l(),d(s,{key:V,prop:o.prop,label:o.label,align:o.align||"left",width:o.width},{default:x(z=>[$(a.$slots,o.scopedSlots,{index:z.$index,row:z.row})]),_:2},1032,["prop","label","align","width"])):(l(),d(s,{key:V,prop:o.prop,label:o.label,align:o.align||"left",width:o.width,fixed:o.fixed},null,8,["prop","label","align","width","fixed"]))],64))),256))]),_:3},8,["data","height","stripe","border"]),t.showPagination?(l(),u("div",L,[t.dataSource.totalCount?(l(),d(B,{key:0,background:"",total:t.dataSource.totalCount,"page-sizes":[15,30,50,100],"page-size":t.dataSource.pageSize,"current-page":t.dataSource.pageNo,"onUpdate:currentPage":c[0]||(c[0]=o=>t.dataSource.pageNo=o),layout:"total, sizes, prev, pager, next, jumper",onSizeChange:C,onCurrentChange:r,style:{"text-align":"right"}},null,8,["total","page-size","current-page"])):b("",!0)])):b("",!0)])}}};export{K as V,Q as _};
